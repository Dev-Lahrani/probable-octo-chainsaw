<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0a0a0f">
    <meta name="description" content="100-Day Syllabus Tracker - Track your college syllabus completion">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>SYLLABUS // 100 DAYS</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="apple-touch-icon" href="favicon.svg">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- User Selection Landing Page -->
    <div class="user-selection-page" id="userSelectionPage">
        <div class="user-selection-container">
            <div class="user-selection-header">
                <span class="logo-icon">‚óà</span>
                <h1>SYLLABUS TRACKER</h1>
                <p class="user-selection-subtitle">Select your study profile to continue</p>
            </div>
            <div class="user-cards-grid" id="userCardsGrid">
                <!-- User cards rendered dynamically -->
            </div>
            <div class="user-selection-footer">
                <p>Each profile tracks progress independently</p>
            </div>
        </div>
    </div>

    <!-- Main App Container (hidden until user selected) -->
    <div class="main-app" id="mainApp" style="display: none;">
        
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <span class="logo-icon">‚óà</span>
                    <span class="sidebar-title">SYLLABUS</span>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()" title="Toggle Sidebar">
                    <span class="toggle-icon">‚óÄ</span>
                </button>
            </div>
            
            <div class="sidebar-user" onclick="switchUser()">
                <span class="user-icon" id="sidebarUserIcon">üíª</span>
                <span class="user-name" id="sidebarUserName">DSA Mastery</span>
                <span class="user-switch">‚áÑ</span>
            </div>
            
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-section="dashboard" onclick="navigateTo('dashboard', event)">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-section="today" onclick="navigateTo('today', event)">
                    <span class="nav-icon">üìÖ</span>
                    <span class="nav-text">Today</span>
                    <span class="nav-badge" id="todayBadge">0</span>
                </a>
                <a href="#" class="nav-item" data-section="subjects" onclick="navigateTo('subjects', event)">
                    <span class="nav-icon">üìö</span>
                    <span class="nav-text">Subjects</span>
                </a>
                <a href="#" class="nav-item" data-section="schedule" onclick="navigateTo('schedule', event)">
                    <span class="nav-icon">üìÜ</span>
                    <span class="nav-text">Schedule Grid</span>
                </a>
                <a href="#" class="nav-item" data-section="analytics" onclick="navigateTo('analytics', event)">
                    <span class="nav-icon">üìà</span>
                    <span class="nav-text">Analytics</span>
                </a>
                <a href="#" class="nav-item" data-section="settings" onclick="navigateTo('settings', event)">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span class="nav-text">Settings</span>
                </a>
            </nav>
            
            <div class="sidebar-divider"></div>
            
            <div class="sidebar-section-title">Quick Actions</div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item" onclick="document.getElementById('syncNowBtn').click(); return false;">
                    <span class="nav-icon">‚òÅÔ∏è</span>
                    <span class="nav-text">Sync Now</span>
                </a>
                <a href="#" class="nav-item" onclick="exportProgress(); return false;">
                    <span class="nav-icon">üì§</span>
                    <span class="nav-text">Export</span>
                </a>
                <a href="#" class="nav-item" onclick="document.getElementById('helpModal').classList.add('active'); return false;">
                    <span class="nav-icon">‚ùì</span>
                    <span class="nav-text">Help</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <div class="sidebar-stats">
                    <div class="sidebar-stat">
                        <span class="stat-value" id="sidebarDay">D01</span>
                        <span class="stat-label">Day</span>
                    </div>
                    <div class="sidebar-stat">
                        <span class="stat-value" id="sidebarStreak">0üî•</span>
                        <span class="stat-label">Streak</span>
                    </div>
                </div>
                <div class="sync-status sidebar-sync">
                    <span class="sync-indicator" id="syncIndicator"></span>
                    <span id="syncText">Local</span>
                </div>
            </div>
        </aside>
        
        <!-- Mobile Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
        
        <!-- Mobile Header -->
        <header class="mobile-header" id="mobileHeader">
            <button class="mobile-menu-btn" onclick="toggleSidebar()">
                <span></span><span></span><span></span>
            </button>
            <div class="mobile-logo">
                <span class="logo-icon">‚óà</span>
                <span>SYLLABUS</span>
            </div>
            <div class="mobile-stats">
                <span id="mobileDay">D01</span>
                <span id="mobileStreak">üî•</span>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="main-content" id="mainContent">
            
            <!-- Dashboard Section -->
            <section class="content-section active" id="sectionDashboard">
                <div class="section-header">
                    <h1>Dashboard</h1>
                    <span class="section-date" id="dashboardDate"></span>
                </div>
                
                <!-- Progress Overview -->
                <div class="dashboard-grid">
                    <div class="dashboard-card progress-card">
                        <div class="card-header">
                            <h3>Overall Progress</h3>
                            <span class="progress-percentage" id="overallPercentage">0%</span>
                        </div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="overallProgressBar"></div>
                        </div>
                        <div class="progress-stats">
                            <span><span id="completedTopics">0</span>/<span id="totalTopics">0</span> topics</span>
                            <span id="estimatedCompletion"></span>
                        </div>
                    </div>
                    
                    <div class="dashboard-card stats-card">
                        <div class="stats-grid">
                            <div class="stat-box">
                                <span class="stat-number" id="currentDay">D01</span>
                                <span class="stat-desc">Current Day</span>
                            </div>
                            <div class="stat-box">
                                <span class="stat-number" id="daysLeft">100</span>
                                <span class="stat-desc">Days Left</span>
                            </div>
                            <div class="stat-box">
                                <span class="stat-number" id="streakCount">0üî•</span>
                                <span class="stat-desc">Streak</span>
                            </div>
                            <div class="stat-box clickable" onclick="openAnalyticsModal()">
                                <span class="stat-number">üìä</span>
                                <span class="stat-desc">Analytics</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Today's Preview in Dashboard -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3>Today's Focus</h3>
                        <a href="#" class="card-link" onclick="navigateTo('today', event)">View All ‚Üí</a>
                    </div>
                    <div class="today-preview" id="todayPreview"></div>
                </div>
                
                <!-- Subjects Preview -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3>Subjects Overview</h3>
                        <a href="#" class="card-link" onclick="navigateTo('subjects', event)">View All ‚Üí</a>
                    </div>
                    <div class="subjects-preview" id="subjectsPreview"></div>
                </div>
            </section>
            
            <!-- Today Section -->
            <section class="content-section" id="sectionToday">
                <div class="section-header">
                    <h1>Today's Focus</h1>
                    <span class="today-date" id="todayDate"></span>
                </div>
                <div class="today-topics" id="todayTopics"></div>
            </section>
            
            <!-- Subjects Section -->
            <section class="content-section" id="sectionSubjects">
                <div class="section-header">
                    <h1>Subjects</h1>
                    <div class="section-filters">
                        <select id="subjectFilter" class="filter-select">
                            <option value="all">All Subjects</option>
                        </select>
                        <select id="dayFilter" class="filter-select">
                            <option value="all">All Days</option>
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="pending">Pending</option>
                            <option value="completed">Completed</option>
                        </select>
                        <select id="priorityFilter" class="filter-select">
                            <option value="all">All Priority</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                </div>
                <div class="subject-cards" id="subjectCards"></div>
            </section>
            
            <!-- Schedule Section -->
            <section class="content-section" id="sectionSchedule">
                <div class="section-header">
                    <h1>Schedule Grid</h1>
                    <div class="schedule-legend">
                        <span class="legend-item"><span class="legend-color completed"></span> Done</span>
                        <span class="legend-item"><span class="legend-color current"></span> Today</span>
                        <span class="legend-item"><span class="legend-color buffer"></span> Buffer</span>
                        <span class="legend-item"><span class="legend-color pending"></span> Pending</span>
                    </div>
                </div>
                <div class="schedule-grid" id="scheduleGrid"></div>
            </section>
            
            <!-- Analytics Section -->
            <section class="content-section" id="sectionAnalytics">
                <div class="section-header">
                    <h1>Performance Analytics</h1>
                </div>
                <div id="analyticsContent"></div>
            </section>
            
            <!-- Settings Section (Cloud Sync) -->
            <section class="content-section" id="sectionSettings">
                <div class="section-header">
                    <h1>Settings & Sync</h1>
                </div>
                <div class="settings-card">
                    <h3>‚òÅÔ∏è Cloud Sync (Cross-Device)</h3>
                    <p class="settings-desc">Sync your progress across multiple devices using cloud storage.</p>
                    <div class="sync-controls">
                        <input type="text" id="binIdInput" class="sync-input" placeholder="Paste Bin ID to sync across devices">
                        <div class="sync-buttons">
                            <button class="btn" id="connectBinBtn">Connect</button>
                            <button class="btn btn-primary" id="createBinBtn">Create New</button>
                            <button class="btn" id="syncNowBtn">Sync Now</button>
                        </div>
                    </div>
                </div>
                <div class="settings-card">
                    <h3>üìÅ Import / Export</h3>
                    <p class="settings-desc">Backup your progress or restore from a previous backup.</p>
                    <div class="sync-buttons">
                        <button class="btn" id="exportBtn">‚Üì Export Data</button>
                        <label class="btn" style="cursor:pointer">‚Üë Import Data<input type="file" id="importFile" accept=".json" style="display:none"></label>
                    </div>
                </div>
                <div class="settings-card danger">
                    <h3>‚ö†Ô∏è Danger Zone</h3>
                    <p class="settings-desc">Reset all progress for this profile. This cannot be undone.</p>
                    <button class="btn btn-danger" id="resetProgress">Reset All Progress</button>
                </div>
            </section>

        </main>
        
        <!-- Subject Modal -->
        <div class="modal" id="subjectModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalTitle">Subject</h2>
                    <button class="modal-close" id="modalClose">√ó</button>
                </div>
                <div class="modal-body" id="modalBody"></div>
            </div>
        </div>
    </div>

    <!-- Keyboard shortcuts modal -->
    <div class="modal" id="helpModal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <h2>Keyboard Shortcuts</h2>
                <button class="modal-close" onclick="document.getElementById('helpModal').classList.remove('active')">√ó</button>
            </div>
            <div class="modal-body">
                <div style="display:grid;gap:0.5rem;">
                    <div style="display:flex;justify-content:space-between;"><kbd>Esc</kbd> <span>Close modal</span></div>
                    <div style="display:flex;justify-content:space-between;"><kbd>?</kbd> <span>Show this help</span></div>
                    <div style="display:flex;justify-content:space-between;"><kbd>S</kbd> <span>Sync now</span></div>
                    <div style="display:flex;justify-content:space-between;"><kbd>E</kbd> <span>Export data</span></div>
                    <div style="display:flex;justify-content:space-between;"><kbd>A</kbd> <span>Open analytics</span></div>
                    <div style="font-size:0.75rem;color:var(--text-muted);margin-top:0.5rem;padding-top:0.5rem;border-top:1px solid var(--border-color);">During Quiz:</div>
                    <div style="display:flex;justify-content:space-between;"><kbd>1-4</kbd> <span>Select answer</span></div>
                    <div style="display:flex;justify-content:space-between;"><kbd>Enter</kbd> <span>Submit answer</span></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quiz Modal -->
    <div class="modal" id="quizModal">
        <div class="modal-content quiz-modal-content">
            <div class="modal-header">
                <h2 id="quizModalTitle">Topic Quiz</h2>
                <button class="modal-close" id="quizModalClose">√ó</button>
            </div>
            <div class="modal-body" id="quizModalBody">
                <!-- Quiz content rendered dynamically -->
            </div>
        </div>
    </div>

    <!-- Topic Details Modal -->
    <div class="modal" id="topicModal">
        <div class="modal-content topic-modal-content">
            <div class="modal-header">
                <h2 id="topicModalTitle">Topic Details</h2>
                <button class="modal-close" id="topicModalClose">√ó</button>
            </div>
            <div class="modal-body" id="topicModalBody">
                <!-- Topic details rendered dynamically -->
            </div>
        </div>
    </div>

    <!-- Analytics Modal -->
    <div class="modal" id="analyticsModal">
        <div class="modal-content analytics-modal-content">
            <div class="modal-header">
                <h2>üìä Performance Analytics</h2>
                <button class="modal-close" onclick="closeAnalyticsModal()">√ó</button>
            </div>
            <div class="modal-body" id="analyticsModalBody">
                <!-- Analytics rendered dynamically -->
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
